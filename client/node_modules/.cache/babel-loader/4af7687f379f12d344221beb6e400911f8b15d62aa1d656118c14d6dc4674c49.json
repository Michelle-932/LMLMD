{"ast":null,"code":"var _jsxFileName = \"/Users/michellekirkland/Dropbox/CodingStuff/DatingApp/datingapp/client/src/components/PlaceList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useCookies } from 'react-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PlaceList = () => {\n  _s();\n  const [placesByMetro, setPlacesByMetro] = useState([]);\n  const [cookies, setCookie, removeCookie] = useCookies(null);\n  useEffect(() => {\n    // Fetch data from the backend API\n    const fetchPlaces = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/places-by-metro');\n        setPlacesByMetro(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchPlaces();\n  }, []);\n  const [savedPlaces, setSavedPlaces] = useState([]);\n\n  //function to toggle saved status of a place\n  const toggleSavedStatus = async placeId => {\n    if (savedPlaces.includes(placeId)) {\n      setSavedPlaces(savedPlaces.filter(id => id !== placeId));\n    } else {\n      setSavedPlaces([...savedPlaces, placeId]);\n    }\n    try {\n      // Make a POST request to your backend API to update the user's saved places\n      await axios.post('http://localhost:8000/save-places', {\n        userId: cookies.UserId,\n        savedPlaces: savedPlaces.includes(placeId) ? savedPlaces.filter(id => id !== placeId) : [...savedPlaces, placeId]\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"List of Places\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), placesByMetro.map(metro => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: metro.place_metro\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: metro.places.map(place => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: place.place_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: place.place_street\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [place.place_city, ', ', place.place_state, ' ', place.place_zip]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"{place.place_url}\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: \"Website\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 20\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: place.place_about\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => toggleSavedStatus(place._id),\n            style: {\n              cursor: 'pointer',\n              color: savedPlaces.includes(place._id) ? 'red' : 'gray '\n            },\n            children: \"\\u2764\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), savedPlaces.includes(place._id) ? /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Saved to My Places\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 52\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Save to My Places\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 86\n          }, this)]\n        }, place._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, metro._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(PlaceList, \"kegqZZ0lns9Cs5qCPj6MCSAGskY=\", false, function () {\n  return [useCookies];\n});\n_c = PlaceList;\nexport default PlaceList;\nvar _c;\n$RefreshReg$(_c, \"PlaceList\");","map":{"version":3,"names":["React","useEffect","useState","axios","useCookies","jsxDEV","_jsxDEV","PlaceList","_s","placesByMetro","setPlacesByMetro","cookies","setCookie","removeCookie","fetchPlaces","response","get","data","error","console","log","savedPlaces","setSavedPlaces","toggleSavedStatus","placeId","includes","filter","id","post","userId","UserId","children","fileName","_jsxFileName","lineNumber","columnNumber","map","metro","place_metro","places","place","place_name","place_street","place_city","place_state","place_zip","href","target","rel","place_about","onClick","_id","style","cursor","color","_c","$RefreshReg$"],"sources":["/Users/michellekirkland/Dropbox/CodingStuff/DatingApp/datingapp/client/src/components/PlaceList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport {useCookies} from 'react-cookie'\n\nconst PlaceList = () => {\n  const [placesByMetro, setPlacesByMetro] = useState([]);\n  const [cookies, setCookie, removeCookie] = useCookies(null)\n\n  useEffect(() => {\n    // Fetch data from the backend API\n    const fetchPlaces = async () => {\n      try {\n        const response = await axios.get('http://localhost:8000/places-by-metro'); \n        setPlacesByMetro(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    fetchPlaces();\n  }, []);\n\n  const [savedPlaces, setSavedPlaces] = useState([]);\n\n  //function to toggle saved status of a place\n  const toggleSavedStatus = async (placeId) => {\n    if (savedPlaces.includes(placeId)) {\n      setSavedPlaces(savedPlaces.filter((id) => id !== placeId));\n    } else {\n      setSavedPlaces([...savedPlaces, placeId]);\n    }\n  \n    try {\n      // Make a POST request to your backend API to update the user's saved places\n      await axios.post('http://localhost:8000/save-places', {\n        userId: cookies.UserId, \n        savedPlaces: savedPlaces.includes(placeId) ? savedPlaces.filter((id) => id !== placeId) : [...savedPlaces, placeId]\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <div>\n      <h1>List of Places</h1>\n      {placesByMetro.map((metro) => (\n        <div key={metro._id}>\n          <h2>{metro.place_metro}</h2>\n          <ul>\n            {metro.places.map((place) => (\n              <li key={place._id}>\n                <h3>{place.place_name}</h3>\n                <p>{place.place_street}</p>\n                <p>{place.place_city}{', '}{place.place_state}{' '}{place.place_zip}</p>\n                <p><a href=\"{place.place_url}\" target=\"_blank\" rel=\"noopener noreferrer\">Website</a></p>\n                <p>{place.place_about}</p>\n                <span\n                  onClick={() => toggleSavedStatus(place._id)}\n                  style={{ cursor: 'pointer', color: savedPlaces.includes(place._id) ? 'red' : 'gray ' }}\n                >\n                  ❤️\n                </span>\n                {savedPlaces.includes(place._id) ? <span>Saved to My Places</span> : <span>Save to My Places</span>}\n              </li>\n            ))}\n          </ul>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default PlaceList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}